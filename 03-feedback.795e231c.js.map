{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKI,iBAAiB,mBAGnCC,EAAW,CACfC,MAAO,GACPC,QAAS,IAQLC,EAAkBC,IACtBC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,GAAK,EAGzC,MACvB,MAAMK,EARCF,KAAKG,MAAML,aAAaM,QAAQ,yBAA2BX,EAUlEF,EAAWc,SAAQC,IACjBA,EAAMC,MAAQL,EAAKI,EAAME,KAAK,GAC9B,EAYJC,GAGArB,EAAKsB,iBACH,QACAC,EAAAzB,GAAE0B,UAAS,KAET,MAGMC,EAnBa,CAAAC,GACdC,MAAMC,KAAKF,GAAQG,QAAO,CAACpB,EAAKS,KACrCT,EAAIS,EAAME,MAAQF,EAAMC,MACjBV,IACN,IAegBqB,CAHF9B,EAAKI,iBAAiB,oBAMrCI,EAAgBiB,EAAS,GACxB,MAGLzB,EAAKsB,iBAAiB,UAAUS,IAC9BA,EAAEC,iBAEFC,QAAQC,IAAIH,EAAEI,OAAOC,SAAS,GAAGjB,MAAOY,EAAEI,OAAOC,SAAS,GAAGjB,OAE7DnB,EAAKqC,QACL7B,EAAgBH,EAAS","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst formInputs = form.querySelectorAll('input, textarea');\n\n//vars\nconst emptyObj = {\n  email: '',\n  message: '',\n};\n\n//func\nconst getLocalStorage = () => {\n  return JSON.parse(localStorage.getItem('feedback-form-state')) || emptyObj;\n};\n\nconst setLocalStorage = obj => {\n  localStorage.setItem('feedback-form-state', JSON.stringify(obj));\n};\n\nconst setLastFormState = () => {\n  const data = getLocalStorage();\n\n  formInputs.forEach(input => {\n    input.value = data[input.name];\n  });\n};\n\nconst createInputObj = inputs => {\n  return Array.from(inputs).reduce((obj, input) => {\n    obj[input.name] = input.value;\n    return obj;\n  }, {});\n};\n\n/////////////////////////\n\nsetLastFormState();\n\n//events\nform.addEventListener(\n  'input',\n  _.throttle(() => {\n    //get all inputs\n    const inputs = form.querySelectorAll('input, textarea');\n\n    //create an object with {name:value} props\n    const inputObj = createInputObj(inputs);\n\n    //set obj to local storage\n    setLocalStorage(inputObj);\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  console.log(e.target.elements[0].value, e.target.elements[1].value);\n\n  form.reset();\n  setLocalStorage(emptyObj);\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$formInputs","querySelectorAll","$945622fd0f572e60$var$emptyObj","email","message","$945622fd0f572e60$var$setLocalStorage","obj","localStorage","setItem","JSON","stringify","data","parse","getItem","forEach","input","value","name","$945622fd0f572e60$var$setLastFormState","addEventListener","$parcel$interopDefault","throttle","inputObj","inputs","Array","from","reduce","$945622fd0f572e60$var$createInputObj","e","preventDefault","console","log","target","elements","reset"],"version":3,"file":"03-feedback.795e231c.js.map"}