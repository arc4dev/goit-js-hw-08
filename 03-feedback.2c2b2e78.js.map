{"mappings":"iiBAAA,IAqBQA,EArBRC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKI,iBAAiB,mBAGnCC,EAAW,CACfC,MAAO,GACPC,QAAS,IAQLC,EAAkB,SAAAC,GACtBC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUJ,G,EAIrDZ,EARCe,KAAKE,MAAMJ,aAAaK,QAAQ,yBAA2BV,EAUlEF,EAAWa,SAAQ,SAAAC,GACjBA,EAAMC,MAAQrB,EAAKoB,EAAME,K,IAe7BnB,EAAKoB,iBACH,QACAC,EAAAvB,GAAEwB,UAAS,WAET,IAGMC,EAlBa,SAAAC,GACrB,OAAOC,MAAMC,KAAKF,GAAQG,QAAO,SAAClB,EAAKQ,GAErC,OADAR,EAAIQ,EAAME,MAAQF,EAAMC,MACjBT,C,GACN,G,CAcgBmB,CAHF5B,EAAKI,iBAAiB,oBAMrCI,EAAgBe,E,GACf,MAGLvB,EAAKoB,iBAAiB,UAAU,WAC9BZ,EAAgBH,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _, { reduce } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst formInputs = form.querySelectorAll('input, textarea');\n\n//vars\nconst emptyObj = {\n  email: '',\n  message: '',\n};\n\n//func\nconst getLocalStorage = () => {\n  return JSON.parse(localStorage.getItem('feedback-form-state')) || emptyObj;\n};\n\nconst setLocalStorage = obj => {\n  localStorage.setItem('feedback-form-state', JSON.stringify(obj));\n};\n\nconst setLastFormState = () => {\n  const data = getLocalStorage();\n\n  formInputs.forEach(input => {\n    input.value = data[input.name];\n  });\n};\n\nconst createInputObj = inputs => {\n  return Array.from(inputs).reduce((obj, input) => {\n    obj[input.name] = input.value;\n    return obj;\n  }, {});\n};\n/////////////////////////\n\nsetLastFormState();\n\n//events\nform.addEventListener(\n  'input',\n  _.throttle(() => {\n    //get all inputs\n    const inputs = form.querySelectorAll('input, textarea');\n\n    //create an object with {name:value} props\n    const inputObj = createInputObj(inputs);\n\n    //set obj to local storage\n    setLocalStorage(inputObj);\n  }, 500)\n);\n\nform.addEventListener('submit', () => {\n  setLocalStorage(emptyObj);\n});\n"],"names":["data","$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$formInputs","querySelectorAll","$b00c40859be242c5$var$emptyObj","email","message","$b00c40859be242c5$var$setLocalStorage","obj","localStorage","setItem","JSON","stringify","parse","getItem","forEach","input","value","name","addEventListener","$parcel$interopDefault","throttle","inputObj","inputs","Array","from","reduce","$b00c40859be242c5$var$createInputObj"],"version":3,"file":"03-feedback.2c2b2e78.js.map"}